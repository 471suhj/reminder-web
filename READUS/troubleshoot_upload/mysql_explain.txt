mysql> explain select file_serial from file where user_serial=20 and parent_serial=360 for update;
+----+-------------+-------+------------+------+-----------------------------------+---------+---------+-------------+------+----------+-------+
| id | select_type | table | partitions | type | possible_keys                     | key     | key_len | ref         | rows | filtered | Extra |
+----+-------------+-------+------------+------+-----------------------------------+---------+---------+-------------+------+----------+-------+
|  1 | SIMPLE      | file  | NULL       | ref  | PRIMARY,parent_serial,user_serial | PRIMARY | 12      | const,const |    1 |   100.00 | NULL  |
+----+-------------+-------+------------+------+-----------------------------------+---------+---------+-------------+------+----------+-------+
1 row in set, 1 warning (0.00 sec)

mysql> select file_serial from file where user_serial=20 and parent_serial=360 for update;
Empty set (0.00 sec)

+--------+-----------+---------------+-------------+------------+-----------+-----------+-------------+------------------------+
| trx_id | THREAD_ID | OBJECT_SCHEMA | OBJECT_NAME | INDEX_NAME | LOCK_TYPE | LOCK_MODE | LOCK_STATUS | LOCK_DATA              |
+--------+-----------+---------------+-------------+------------+-----------+-----------+-------------+------------------------+
|  55325 |        48 | reminder_web  | file        | NULL       | TABLE     | IX        | GRANTED     | NULL                   |
|  55325 |        48 | reminder_web  | file        | PRIMARY    | RECORD    | X         | GRANTED     | supremum pseudo-record |
+--------+-----------+---------------+-------------+------------+-----------+-----------+-------------+------------------------+
2 rows in set (0.00 sec)

mysql> explain delete from file where user_serial=20 and parent_serial=360;
+----+-------------+-------+------------+-------+-----------------------------------+---------+---------+-------------+------+----------+-------------+
| id | select_type | table | partitions | type  | possible_keys                     | key     | key_len | ref         | rows | filtered | Extra       |
+----+-------------+-------+------------+-------+-----------------------------------+---------+---------+-------------+------+----------+-------------+
|  1 | DELETE      | file  | NULL       | range | PRIMARY,parent_serial,user_serial | PRIMARY | 12      | const,const |    1 |   100.00 | Using where |
+----+-------------+-------+------------+-------+-----------------------------------+---------+---------+-------------+------+----------+-------------+
1 row in set, 1 warning (0.00 sec)

mysql> delete from file where user_serial=20 and parent_serial=360;
Query OK, 0 rows affected (0.00 sec)

+--------+-----------+---------------+-------------+------------+-----------+-----------+-------------+------------------------+
| trx_id | THREAD_ID | OBJECT_SCHEMA | OBJECT_NAME | INDEX_NAME | LOCK_TYPE | LOCK_MODE | LOCK_STATUS | LOCK_DATA              |
+--------+-----------+---------------+-------------+------------+-----------+-----------+-------------+------------------------+
|  55325 |        48 | reminder_web  | file        | NULL       | TABLE     | IX        | GRANTED     | NULL                   |
|  55325 |        48 | reminder_web  | file        | PRIMARY    | RECORD    | X         | GRANTED     | supremum pseudo-record |
+--------+-----------+---------------+-------------+------------+-----------+-----------+-------------+------------------------+
2 rows in set (0.01 sec)

mysql> explain insert into file (user_serial, parent_serial, type, file_name) value (20, 360, 'file', 'abc - Copy');
+----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+-------+
| id | select_type | table | partitions | type | possible_keys | key  | key_len | ref  | rows | filtered | Extra |
+----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+-------+
|  1 | INSERT      | file  | NULL       | ALL  | NULL          | NULL | NULL    | NULL | NULL |     NULL | NULL  |
+----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+-------+
1 row in set, 1 warning (0.00 sec)

mysql> insert into file (user_serial, parent_serial, type, file_name) value (20, 360, 'file', 'abc - Copy');
Query OK, 1 row affected (0.00 sec)

+--------+-----------+---------------+-------------+-------------+-----------+---------------+-------------+-----------------------------------------------------------+
| trx_id | THREAD_ID | OBJECT_SCHEMA | OBJECT_NAME | INDEX_NAME  | LOCK_TYPE | LOCK_MODE     | LOCK_STATUS | LOCK_DATA                                                 |
+--------+-----------+---------------+-------------+-------------+-----------+---------------+-------------+-----------------------------------------------------------+
|  55325 |        48 | reminder_web  | user        | NULL        | TABLE     | IS            | GRANTED     | NULL                                                      |
|  55325 |        48 | reminder_web  | file        | NULL        | TABLE     | IX            | GRANTED     | NULL                                                      |
|  55325 |        48 | reminder_web  | user        | PRIMARY     | RECORD    | S,REC_NOT_GAP | GRANTED     | 20                                                        |
|  55325 |        48 | reminder_web  | file        | file_serial | RECORD    | S,REC_NOT_GAP | GRANTED     | 360, 20, 1, 1, 'upload_tmp                              ' |
|  55325 |        48 | reminder_web  | file        | PRIMARY     | RECORD    | X,GAP         | GRANTED     | 20, 360, 2, 'abc - Copy                              '    |
|  55325 |        48 | reminder_web  | file        | PRIMARY     | RECORD    | X             | GRANTED     | supremum pseudo-record                                    |
+--------+-----------+---------------+-------------+-------------+-----------+---------------+-------------+-----------------------------------------------------------+
6 rows in set (0.00 sec)

mysql> explain select file_serial, last_renamed from file where user_serial=20 and parent_serial=360;
+----+-------------+-------+------------+------+-----------------------------------+---------+---------+-------------+------+----------+-------+
| id | select_type | table | partitions | type | possible_keys                     | key     | key_len | ref         | rows | filtered | Extra |
+----+-------------+-------+------------+------+-----------------------------------+---------+---------+-------------+------+----------+-------+
|  1 | SIMPLE      | file  | NULL       | ref  | PRIMARY,parent_serial,user_serial | PRIMARY | 12      | const,const |    1 |   100.00 | NULL  |
+----+-------------+-------+------------+------+-----------------------------------+---------+---------+-------------+------+----------+-------+
1 row in set, 1 warning (0.00 sec)